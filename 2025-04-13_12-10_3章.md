# awsのセキュリティの責任
データセンターから仮想化基盤に至る物理的なセキュリティや、各種サービスの運用・管理について責任を負う

でーたせんたーの物理的セキュリティ
物理的なハードウェアやネットワークインフラストラクチャ
仮想化インフラストラクチャ
マネージドサービス

# 利用者の責任
オペレーティングシステムやアプリケーション
ネットワークセキュリティ
アイデンティティとアクセス管理
データの保護
セキュリティの監視

# コンプライアンス
法令遵守
awsクラウドを利用すれば、セキュリティ基準や法令順守に対応した環境を利用できる

awsが対応しているセキュリティ基準や法令順守について確認するにはawsコンプライアンスプログラム、aws artifact、カスタマーコンプライアンスセンターなどがある

# awsコンプライアンスプログラム
awsに導入されているセキュリティ基準や遵守している法令などの情報を第三者に公開したもの

# aws artifact
第三者機関やawsの監査人が発行したコンプライアンスレポートのダウンロードサービス

# カスタマーコンプライアンスセンター
awsのコンプライアンスについて学ぶための資料を提供するサービスとして利用できる

# aws audit manager
awsのリソースをモニターするサービスの情報を収集し、継続的に監査を行うサービス

# データの暗号化
暗号化とは、元のデータを暗号化カギと呼ばれる情報を用いて変換し、第三者が見ても中身がわからない状態にすること
複合カギと呼ばれる情報を用いて再変換すると、元のデータに復元でき、これを複合と呼ぶ

暗号/複合の方式は、共通鍵暗号方式と公開鍵暗号方式にわかれる

# 共通鍵暗号方式
暗号化カギと複合カギが同じ
送受信者の間で共通鍵を共有する必要があるが、第三者に渡してはならない
そのためリスクが伴う方式

# 公開鍵暗号方式
暗号化カギと複合カギが異なる
二つのペアをキーペアと呼ぶ
暗号の受信者は、暗号化カギを送信者に渡しておく
この鍵は暗号化専用鍵なので、公開しても解読される恐れはない
ペアとなる復号カギは受信者が厳重に秘匿

暗号化カギのことを公開鍵、復号カギのことを秘密鍵という
秘密鍵を事前にやり取りする必要がなく、共通鍵暗号方式より安全

awsサービス側で暗号復号してくれるサーバーサイド暗号化と、クライアントが自分で暗号復号するクライアントサイド暗号化について
# サーバーサイド暗号化
データセンター内で保存されているデータをawsサービスが自動で暗号化、復号してくれる
たとえばamazon dynamodb

# クライアントサイド暗号化
クライアントが暗号化カギと複合カギをもつ

サーバーサイド暗号化で利用する暗号カギについては、awsのマネージドサービスで管理できる

# AWS key management service aws kms
マルチテナント方式のマネージド暗号かぎ管理サービス
暗号カギを集中管理する
暗号カギを作成することもでき、サーバーサイド暗号化をサポートするほぼすべてのサービスで利用でき、暗号カギを利用できる利用者をアクセス権限によって制限できる

aws kmsで作成管理できる暗号かぎの種類
カスタマーマネージドキー　利用者がアカウント内に作成する暗号かぎ
awsマネージドキー　awsサービスがアカウント内に作成する暗号かぎ
aws所有のキー　　　awsサービスが保有し、すべてのアカウントで共通利用される暗号かぎ

# aws cloudhsm
aws kmsよりも高いセキュリティレベルで暗号を管理できるシングルテナント方式のマネージド暗号かぎ管理サービス


# 転送データの保護　aws certificate manager acm
クライアント・サーバー間の通信を暗号化するためには、サーバーにサーバー証明書をインストールする必要がある
acmを利用すると、保有するドメインに対するパブリックサーバー証明書を無料で発行できる

# awsのモニタリング

# amazon cloudwatch
aws上に構築した仮想マシンやデータベースなどのリソースや、オンプレ環境のサーバーなどの状態を監視できるサービス
対応しているawsサーヴィスでは、利用者が特に設定を行わなくてもリソースが作成されると同時にcloudwatchによる情報収集が開始される

標準メトリクス
aws各サービスが標準で提供するデータを標準メトリクスとして収集する。
利用者が管理する範囲、たとえば仮想マシンのOSより上の情報は含まれず、プライベートの情報を集めることはない。

カスタムメトリクス
標準メトリクスで収集できないじょうほうは、amazon cloudwatch api経由でデータを書き込むことができ、これらの情報をカスタムメトリクスという
cloudwatchエージェントというプログラムが提供されていて、これを利用して収集する

# cloudwatch logs
サーバー内にログを残すことなく、一元的に管理することができる
cloudwatch logsに記録されたメッセージを基に、カスタムメトリクスを作成できる

特定のメトリクスに対して条件を設定し、それが満たされた際にアラームをつかってアクションを呼び出せる　ec2の停止や再起動、snsへの通知など

cloudwatchダッシュボードでは、メトリクスやアラームの状態、ログなどを一元的に集約して確認できる

# aws config
awsリソースの設定変更をモニタリングしたり、リソースに対するセキュリティやコンプライアンスを評価するサービス

# aws cloudtrail
awsに対する操作を記録するサービス
操作すべてが記録され、管理者であるルートユーザーでも削除できないので、監査用のログとして利用できる
いつ、だれが、どんなパラメータでAPIを呼び出し、その結果がどうなったのかを記録

# aws license manager
保有するソフトウェア・ライセンスとその利用状況を管理する